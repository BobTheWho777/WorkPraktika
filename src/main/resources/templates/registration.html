<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Регистрация</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container-fluid">
    <div class="row justify-content-center align-items-center" style="min-height: 100vh;">
        <div class="col-lg-4 col-md-6 col-sm-8 col-11">
            <form th:action="@{/registration}" method="post" th:object="${userDto}"
                  class="bg-white rounded shadow p-5 border border-secondary-subtle needs-validation" novalidate>

                <h2 class="text-center text-primary fw-bold mb-4">Регистрация</h2>

                <!-- Логин -->
                <div class="mb-3">
                    <label for="username" class="form-label fw-semibold">Логин</label>
                    <input type="text" id="username" th:field="*{username}"
                           class="form-control" placeholder="Введите логин" aria-describedby="usernameHelp" autofocus />
                    <div id="usernameHelp" class="form-text small">
                        Примеры: лимон1724, atomic2020, Самурай11
                    </div>
                    <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="text-danger small mt-1"></div>
                </div>

                <!-- Пароль -->
                <div class="mb-3">
                    <label for="password" class="form-label fw-semibold">Пароль</label>
                    <input type="password" id="password" th:field="*{password}"
                           class="form-control" placeholder="Введите пароль" />
                    <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger small mt-1"></div>
                </div>

                <!-- Почта -->
                <div class="mb-3">
                    <label for="email" class="form-label fw-semibold">Почта</label>
                    <input type="email" id="email" th:field="*{email}"
                           class="form-control" placeholder="Введите почту" aria-describedby="emailHelp" />
                    <div id="emailHelp" class="form-text small">
                        Примеры: example@example.com, user123@mail.ru, john.doe@company.co.uk
                    </div>
                    <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger small mt-1"></div>
                </div>

                <!-- Телефон -->
                <div class="mb-3">
                    <label for="phone" class="form-label fw-semibold">Телефон</label>
                    <input type="text" id="phone" th:field="*{phone}"
                           class="form-control" placeholder="Введите телефон" />
                    <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger small mt-1"></div>
                </div>

                <!-- Кнопки -->
                <div class="d-grid gap-3">
                    <button type="button" class="btn btn-secondary fw-semibold" onclick="window.history.back()">
                        Вернуться
                    </button>
                    <button type="submit" class="btn btn-primary fw-semibold">
                        Зарегистрироваться
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    (() => {
      'use strict';
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
</script>

</body>
</html>
